<div class="verify-email-container">
  <div class="verify-email-card">
    <div class="icon-wrapper">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
        <polyline points="22,6 12,13 2,6"/>
      </svg>
      <div class="check-badge">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="var(--primary)" stroke-width="2">
          <circle cx="12" cy="12" r="10" fill="var(--primary)"/>
          <polyline points="9 12 11 14 15 10" stroke="white" fill="none"/>
        </svg>
      </div>
    </div>

    <h1>Verificar Email</h1>
    <p class="subtitle">
      Hemos enviado un código de verificación a<br>
      <strong>{{ getMaskedEmail() }}</strong>
    </p>

    <form (ngSubmit)="onVerify()" class="verify-form">
      <div class="code-input-wrapper">
        <input
          type="text"
          [(ngModel)]="code"
          name="code"
          maxlength="6"
          placeholder="000000"
          class="code-input"
          [disabled]="isLoading"
          pattern="\d{6}"
        >
        <div class="code-hint">Ingresa el código de 6 dígitos</div>
      </div>

      <button 
        type="submit" 
        class="btn-primary"
        [disabled]="code.length !== 6 || isLoading"
      >
        @if (isLoading) {
          <span class="spinner"></span>
          Verificando...
        } @else {
          Verificar Email
        }
      </button>

      <div class="actions">
        <button 
          type="button" 
          class="btn-text"
          (click)="onResendCode()"
          [disabled]="isResending"
        >
          @if (isResending) {
            <span class="spinner small"></span>
            Reenviando...
          } @else {
            ¿No recibiste el código? Reenviar
          }
        </button>

        <button 
          type="button" 
          class="btn-text secondary"
          (click)="skipVerification()"
        >
          Verificar más tarde
        </button>
      </div>
    </form>

    <div class="info-box">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="12" y1="16" x2="12" y2="12"/>
        <line x1="12" y1="8" x2="12.01" y2="8"/>
      </svg>
      <p>
        Si no encuentras el email, revisa tu carpeta de spam o correo no deseado.
        El código expira en 30 minutos.
      </p>
    </div>
  </div>
</div>
